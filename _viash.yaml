viash_version: 0.9.1

source: src
target: target

name: openpipeline_incubator
organization: openpipelines-bio

links:
  repository: https://github.com/openpipelines-bio/openpipeline_incubator
  docker_registry: ghcr.io

repositories:
  - name: openpipeline
    repo: openpipelines-bio/openpipeline
    type: github
    tag: main_build

info:
  test_resources:
    - type: s3
      path: s3://openpipelines-bio/openpipeline_incubator/resources_test
      dest: resources_test
    - type: s3
      path: s3://openpipelines-data/annotation_test_data/
      dest: resources_test/annotation_test_data
    - type: s3
      path: s3://openpipelines-data/pbmc_1k_protein_v3/
      dest: resources_test/pbmc_1k_protein_v3

config_mods: |
  .resources += {path: '/src/utils/labels.config', dest: 'nextflow_labels.config'}
  .runners[.type == 'nextflow'].config.script := 'includeConfig("nextflow_labels.config")'
